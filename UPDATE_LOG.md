# 更新日志

## 2025-12-07 重大更新

### 新增功能

1. **自动机器人对手**
   - 新玩家加入房间时自动生成3个机器人
   - 机器人会自动准备、自动出牌
   - 机器人有基本的AI策略（保留实力，适时出牌）
   - 方便单人调试和测试游戏

2. **严格的出牌规则验证**
   - ✅ 单张牌：任何牌都可以出
   - ✅ 对子：必须是2张相同rank的**文牌**（武牌不能组成对子）
   - ✅ 跟牌验证：必须出相同数量的牌
   - ✅ 大小比较：rank数值越小越大
   - ❌ 非法出牌会显示错误提示

3. **栋数实时统计**
   - 每栋结束后立即统计赢家
   - 顶部显示4位玩家的栋数统计（格式：0-0-0-0）
   - 每位对手旁边显示其赢得的栋数
   - 实时更新栋数变化

### 游戏规则改进

- **出牌验证规则**：
  - 对子必须是文牌（天、地、人、饿、梅、长山、板凳、斧头、平峰、高脚七、鼻屎六）
  - 武牌只能单张出
  - 跟牌时必须压过上家的牌，否则只能过牌

- **栋数计分**：
  - 每栋获胜者+1栋
  - 最后手牌打完时，栋数最多的玩家获胜
  - 游戏全程可见各玩家的栋数

### 技术改进

- 服务端验证所有出牌操作
- 机器人延迟1-2.5秒模拟思考
- 更好的错误提示机制
- 优化了游戏流程控制

### 使用说明

1. 启动服务器：`npm start`
2. 打开浏览器：`http://localhost:3000`
3. 输入昵称和房间号
4. 自动匹配3个机器人对手
5. 点击准备开始游戏
6. 享受天九对战！

### 注意事项

- 文牌对子：天天、地地、人人、饿饿、梅梅、长三长三、板凳板凳、斧头斧头、平峰平峰、高脚七高脚七、鼻屎六鼻屎六
- 武牌不能组成对子，只能单张出
- rank数值越小代表牌越大（天=1最大，鼻屎六=11最小）
